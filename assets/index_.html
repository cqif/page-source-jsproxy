<!DOCTYPE html>
<html><head><title>便捷海外网站加速(或减速)</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"name=viewport><link rel="icon" href="favicon.ico" type="image/x-icon"/><base target=_blank><style>body{padding:0 .5em;background-color:#f2f2f2;font-family:Arial,sans-serif}.box{margin-top:1em;background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:1em}#txtURL{width:100%;height:1.5em;text-indent:.5em;padding:.25em 0;font-size:1.8em;border:0;outline:0}#btnGo{width:100%;font-size:1.5em;background-color:#007bff;color:#fff;border:0;border-radius:5px;padding:.5em 1em;cursor:pointer;transition:background-color .3s ease}#btnGo:hover{background-color:#0062cc}h4,h5{text-align:center;margin:1em 0}h4{font-size:1.2em}h5{font-size:1em;color:#555}</style></head><body><div class="box"><input autofocus id="txtURL" value="www.example.com"></div><div class="box"><button id="btnGo">Go</button></div><div class="box"><h4>使用方式1：在上方输入框内键入要访问的网址或要搜索的内容(默认使用duck搜索)，然后点击“Go”按钮</h4><h4>使用方式2：在本站域名末尾斜杠“/”后面加上要访问的网址后访问，如：https://....../www.example.com</h4><h4>（ 使用本站浏览网站时切勿进行账号登录等任何涉及个人隐私的操作 ）</h4><h5>（ 本站仅用于海外网站加速  / 无任何日志记录功能 / 并非支持所有网站 / 无法使用谷歌搜索引擎 / 请勿用于访问违反当地法律的网站 ）</h5></div>
<script>
const PAGE_CONF_SET=110
const PAGE_CONF_GET=111
const SW_CONF_RETURN=112
const SW_CONF_CHANGE=113
const PAGE_READY_CHECK=200
const SW_READY=201
const sw=navigator.serviceWorker
sw.addEventListener('message',onSwMsg)
sendMsgToSw(PAGE_READY_CHECK)
btnGo.onclick=function(){const text=txtURL.value.trim()
if(text){const url='./---'+text
open(url,'_blank','noopener,noreferrer')}}
txtURL.onkeypress=function(e){if(e.keyCode===13){btnGo.onclick()}}
txtURL.setSelectionRange(0,txtURL.value.length)
function onSwMsg(e){const[cmd,msg]=e.data
switch(cmd){case SW_CONF_RETURN:conf=msg
showConf()
break
case SW_CONF_CHANGE:conf=msg
updateSelected()
break
case SW_READY:console.log('sw ready')
showIcons()
sendMsgToSw(PAGE_CONF_GET)
break}}
function onSwFail(err){txtURL.value=err}
function sendMsgToSw(cmd,val){const ctl=sw.controller
if(!ctl){console.log('ctl is null')
return}
ctl.postMessage([cmd,val])}
</script>
</body>
</html>